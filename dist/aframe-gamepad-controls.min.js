!function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){!function(t){return t?void(t.aframeCore||t).registerComponent("gamepad-controls",o(1)):void console.error("Component attempted to register before AFRAME was available.")}(window.AFRAME)},function(t,e){var o=.2,i=.2;t.exports={dependencies:["proxy-controls"],schema:{controller:{"default":0,oneOf:[0,1,2,3]},easing:{"default":20},acceleration:{"default":65},enabled:{"default":!0},movementEnabled:{"default":!0},lookEnabled:{"default":!1},flyEnabled:{"default":!1},pitchAxis:{"default":"x",oneOf:["x","y","z"]},yawAxis:{"default":"y",oneOf:["x","y","z"]},rollAxis:{"default":"z",oneOf:["x","y","z"]},debug:{"default":!1}},init:function(){var t=this.el.sceneEl;this.prevTime=Date.now(),this.velocity=new THREE.Vector3(0,0,0),this.direction=new THREE.Vector3(0,0,0),this.rotation=new THREE.Euler(0,0,0,"YXZ"),t.addBehavior(this)},update:function(t){this.updatePosition(!!t)},remove:function(){},updatePosition:function(t){var e=this.data,n=e.acceleration,a=e.easing,r=this.velocity,s=window.performance.now(),d=(s-this.prevTime)/1e3,c=e.rollAxis,l=e.pitchAxis,u=this.el,h=this.getGamepad();if(this.prevTime=s,t||d>o)return r[c]=0,void(r[l]=0);r[c]-=r[c]*a*d,r[l]-=r[l]*a*d;var p=u.getComputedAttribute("position");e.enabled&&e.movementEnabled&&h&&(Math.abs(this.getJoystick(0).x)>i&&(r[l]+=this.getJoystick(0).x*n*d),Math.abs(this.getJoystick(0).y)>i&&(r[c]+=this.getJoystick(0).y*n*d));var f=this.getMovementVector(d);u.object3D.translateX(f.x),u.object3D.translateY(f.y),u.object3D.translateZ(f.z),u.setAttribute("position",{x:p.x+f.x,y:p.y+f.y,z:p.z+f.z})},getMovementVector:function(t){var e=this.el.getAttribute("rotation");return this.direction.copy(this.velocity),this.direction.multiplyScalar(t),e?(this.data.flyEnabled||(e.x=0),this.rotation.set(THREE.Math.degToRad(e.x),THREE.Math.degToRad(e.y),0),this.direction.applyEuler(this.rotation),this.direction):this.direction},updateHeading:function(){this.data.lookEnabled&&console.warn("gamepad-controls: Look control not yet implemented.")},getGamepad:function(){return navigator.getGamepads()[this.data.controller]},getButton:function(t){return this.getGamepad().buttons[t]},getAxis:function(t){return this.getGamepad().axes[t]},getJoystick:function(t){var e=this.getGamepad();switch(t){case 0:return new THREE.Vector2(e.axes[0],e.axes[1]);case 1:return new THREE.Vector2(e.axes[2],e.axes[3]);default:throw new Error('Unexpected joystick index "%d".',t)}},isConnected:function(){return this.getGamepad().connected},getId:function(){return this.getGamepad().id}}}]);